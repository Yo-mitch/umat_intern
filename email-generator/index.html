<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Email Generator</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="script.js"></script>  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body>
  <div class="container">
    <form action="insert.php" method="POST" class="form-card">
      <h1>Email Generator</h1>

      <div class="form-group">
        <label for="firstname">Firstname</label>
        <input type="text" name="firstname" id="firstname" required />
      </div>

      <div class="form-group">
        <label for="surname">Surname</label>
        <input type="text" name="surname" id="surname" required />
      </div>

      <div class="form-group">
        <label for="programme-code">Programme Code</label>
        <input type="text" name="programme-code" id="programme-code" required />
      </div>

      <div class="form-group">
        <label for="reference-number">Reference Number</label>
        <input type="number" name="reference-number" id="reference-number" required />
      </div>

      <div class="form-group">
        <label for="domain">Domain</label>
        <input type="text" name="domain" id="domain" value="@st.umat.edu.gh" disabled />
      </div>

      <button type="submit" name="submit" value="1"  id="generateBtn">
        <span class="btn-text">Generate Email</span>
        <span class="loader"></span>
      </button>
    </form>
  </div>
</body>
</html>



<script>
document.addEventListener("DOMContentLoaded", () => {
    const programmeCodeInput = document.querySelector('input[name="programme-code"]');
    const referenceNumberInput = document.querySelector('input[name="reference-number"]');

    programmeCodeInput.addEventListener("input", () => {
        const value = programmeCodeInput.value;
        if (!/^[A-Za-z]{0,2}$/.test(value)) {
            alert("Programme code must be letters only and not more than 2 characters.");
            programmeCodeInput.value = value.slice(0, -1); // remove last character
        }
    });

    referenceNumberInput.addEventListener("input", () => {
        const value = referenceNumberInput.value;
        if (!/^\d{0,10}$/.test(value)) {
            alert("Reference number must be digits only and not more than 10 characters.");
            referenceNumberInput.value = value.replace(/\D/g, '').slice(0, 10); // digits only, limit to 10
        }
    });
});

  const form = document.querySelector("form");
  const btn = document.getElementById("generateBtn");
  const btnText = btn.querySelector(".btn-text");
  const loader = btn.querySelector(".loader");

  form.addEventListener("submit", (e) => {
    // Optional: preventDefault for AJAX or simulation
    // e.preventDefault();

    btn.disabled = true;
    btnText.style.display = "none";
    loader.style.display = "inline-block";

    // Simulate loading for 2 seconds (remove if using server)
    // setTimeout(() => form.submit(), 2000);
  });
  
</script>



